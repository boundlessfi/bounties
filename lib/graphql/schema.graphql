# ------------------------------------------------------
# GENERATED FILE â€” DO NOT EDIT DIRECTLY
# Source: ../boundless-nestjs/src/schema.gql
# To update, run: npm run sync-schema
# ------------------------------------------------------

type Bounty {
  _count: BountyCount
  bountyWindow: BountyWindowType
  bountyWindowId: String
  createdAt: DateTime!
  createdBy: String!
  description: String!
  githubIssueNumber: Int
  githubIssueUrl: String!
  id: ID!
  organization: BountyOrganization
  organizationId: String!
  project: BountyProject
  projectId: String
  rewardAmount: Float!
  rewardCurrency: String!
  status: String!
  submissions: [BountySubmissionType!]
  title: String!
  type: String!
  updatedAt: DateTime!
}

type BountyCount {
  submissions: Int!
}

type BountyOrganization {
  id: ID!
  logo: String
  name: String!
  slug: String
}

type BountyProject {
  description: String
  id: ID!
  title: String!
}

input BountyQueryInput {
  bountyWindowId: String
  limit: Int = 20
  organizationId: String
  page: Int = 1
  projectId: String
  search: String
  sortBy: String = "createdAt"
  sortOrder: String = "desc"
  status: BountyStatus
  type: BountyType
}

enum BountyStatus {
  CANCELLED
  COMPLETED
  DISPUTED
  DRAFT
  IN_PROGRESS
  OPEN
  SUBMITTED
  UNDER_REVIEW
}

type BountySubmissionType {
  bountyId: String!
  createdAt: DateTime!
  githubPullRequestUrl: String
  id: ID!
  paidAt: DateTime
  reviewComments: String
  reviewedAt: DateTime
  reviewedBy: String
  reviewedByUser: BountySubmissionUser
  rewardTransactionHash: String
  status: String!
  submittedBy: String!
  submittedByUser: BountySubmissionUser
  updatedAt: DateTime!
}

type BountySubmissionUser {
  email: String
  id: ID!
  image: String
  name: String
}

enum BountyType {
  COMPETITION
  FIXED_PRICE
  MILESTONE_BASED
}

type BountyWindowType {
  endDate: DateTime
  id: ID!
  name: String!
  startDate: DateTime
  status: String!
}

input CreateBountyInput {
  bountyWindowId: String
  description: String!
  githubIssueNumber: Int
  githubIssueUrl: String!
  organizationId: String!
  projectId: String
  rewardAmount: Float!
  rewardCurrency: String!
  title: String!
  type: BountyType!
}

input CreateSubmissionInput {
  bountyId: String!
  comments: String
  githubPullRequestUrl: String!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type Mutation {
  """Create a new bounty (organization members only)"""
  createBounty(input: CreateBountyInput!): Bounty!

  """Delete a bounty (organization admins/owners only)"""
  deleteBounty(id: ID!): Boolean!

  """Mark a submission as paid (organization admins/owners only)"""
  markSubmissionPaid(submissionId: ID!, transactionHash: String!): BountySubmissionType!

  """Review a bounty submission (organization members only)"""
  reviewSubmission(input: ReviewSubmissionInput!): BountySubmissionType!

  """Submit to a bounty (any authenticated user)"""
  submitToBounty(input: CreateSubmissionInput!): BountySubmissionType!

  """Update an existing bounty (organization members only)"""
  updateBounty(input: UpdateBountyInput!): Bounty!
}

type PaginatedBounties {
  bounties: [Bounty!]!
  limit: Int!
  offset: Int!
  total: Int!
}

type Query {
  """Get all currently active bounties"""
  activeBounties: [Bounty!]!

  """Get paginated list of bounties with filtering"""
  bounties(query: BountyQueryInput): PaginatedBounties!

  """Get a single bounty by ID"""
  bounty(id: ID!): Bounty!

  """Get bounties for a specific organization"""
  organizationBounties(organizationId: ID!): [Bounty!]!

  """Get bounties for a specific project"""
  projectBounties(projectId: ID!): [Bounty!]!
}

input ReviewSubmissionInput {
  reviewComments: String
  status: String!
  submissionId: ID!
}

input UpdateBountyInput {
  bountyWindowId: String
  description: String
  githubIssueNumber: Int
  githubIssueUrl: String
  id: ID!
  rewardAmount: Float
  rewardCurrency: String
  status: String
  title: String
  type: BountyType
}